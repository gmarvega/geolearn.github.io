import{H as _,t as h,u as m,_ as p}from"./HeaderApp-Bd8_-bNw.js";import{_ as v,d as f,r as g,o as i,c as a,a as y,b as s,t as d,n,h as r,F as w,e as b}from"./index-yABFnbWc.js";import"./GeoLearn-B0ofI_r8.js";const C="/assets/edit-CG_GMJ60.png",E="/assets/cancel-B813tFAi.png",S=f({name:"UserProfile",components:{Header:_},data(){return{tasks:h,user:m,showStudyTask:JSON.parse(localStorage.getItem("showStudyTask"))??!0,isEditable:!1,mode:localStorage.getItem("mode")||""}},methods:{setShowStudyTask(e){this.showStudyTask=e,localStorage.setItem("showStudyTask",JSON.stringify(e))},getColor(e){return e>=80?"green":e>=50?"yellow":"red"},guardarCambios(){let e=!1,t=!1,l=this.$refs.password.value.trim(),c=this.$refs.newpassword.value.trim();this.user.name!=this.$refs.username.value&&(e=!0),this.user.mail!=this.$refs.mail.value&&(e=!0),l!=""&&(e=!0),l!=c&&(t=!0),e&&!t?(this.user.name=this.$refs.username.value,this.user.mail=this.$refs.mail.value,this.isEditable=!1,alert("Los cambios se han guardado correctamente.")):alert(t?"Las contraseñas no coinciden.":"No se han modificado datos.")},setMode(e){this.mode=e,localStorage.setItem("mode",e)},navigateToMode(e){const t=e.type.toLowerCase()==="estudio"?"Estudio":"Test";this.setMode(t),this.$router.push({path:"/selectMode"})}},computed:{filteredTasks(){return this.showStudyTask?this.tasks.filter(e=>e.type.toLowerCase().indexOf("estudio")>-1):this.tasks.filter(e=>e.type.toLowerCase().indexOf("test")>-1)},getIsEditable(){return this.isEditable}}}),k={class:"container-fluid"},T={class:"row"},$={class:"me-5",style:{flex:"1"}},I=s("div",{class:"row title"},[s("h3",null,"Mi cuenta")],-1),M={class:"space-align"},N={class:"about-wrapper"},L={class:"about"},F={class:"about-info"},H=s("div",{class:"about-me"},[s("h3",null,"Sobre mí")],-1),P={key:0},B=s("img",{src:C,alt:"Edit Icon"},null,-1),G=[B],O={key:1},J=s("img",{src:E,alt:"Edit Icon"},null,-1),U=[J],V={class:"name-picture"},D={class:"text-center"},z=s("div",{class:"text-center"},[s("div",{class:"picture-wrapper"},[s("img",{src:p,class:"img-fluid",alt:"Picture Icon"})])],-1),A={class:"form-wrap"},j={class:"form-components"},q={class:"user-info"},K=s("label",null,"Nombre de usuario",-1),Q=["value","readonly"],R={class:"mail-info"},W=s("label",null,"Correo electronico",-1),X=["value","readonly"],Y={key:0,class:"password-info"},Z=s("label",null,"Contraseña actual",-1),x=["value","readonly"],ss={key:1,class:"newpassword-info"},es=s("label",null,"Nueva contraseña",-1),ts=["value","readonly"],os={key:2},is={style:{flex:"3"}},as={class:"row title"},ns=s("h3",null,"Información de nivel",-1),ds={class:"filter-option"},ls={class:"row"},rs={class:"col-md card-content"},cs=["onClick"],us={class:"card-content-resume"},_s=s("div",{class:"color-card"},[s("div",{class:"color-card-content"})],-1),hs={class:"row"},ms={class:"col-sm"},ps={class:"info-card"},vs={class:"info-card-name"},fs={class:"info-card-description"},gs={class:"info-card-time"},ys={class:"info-card-time-inici"},ws=s("h2",{class:"info-card-time-title"},"Fecha de inicio",-1),bs={class:"info-card-time-description"},Cs={class:"info-card-time-spent"},Es=s("h2",{class:"info-card-time-title"},"Tiemplo empleado",-1),Ss={class:"info-card-time-description"},ks={class:"col-sm-4"},Ts={class:"score-card"},$s={class:"average-score"},Is=s("h1",{class:"info-card-time-title"},"Puntuación media",-1),Ms={class:"percentage"},Ns={class:"progress-score"},Ls=s("h1",{class:"info-card-time-title"},"Progreso",-1),Fs={class:"percentage"},Hs=s("footer",null,[s("p",null,"Copyright © FHiC 23-24 - GeoLearn")],-1);function Ps(e,t,l,c,Bs,Gs){const u=g("Header");return i(),a("div",null,[y(u,{onModeUpdated:e.setMode},null,8,["onModeUpdated"]),s("body",null,[s("main",null,[s("div",k,[s("div",T,[s("div",$,[I,s("div",M,[s("div",N,[s("div",L,[s("div",F,[H,s("div",{class:"about-image",onClick:t[0]||(t[0]=o=>e.isEditable=!e.isEditable)},[e.getIsEditable?(i(),a("div",O,U)):(i(),a("div",P,G))])]),s("div",V,[s("div",D,[s("h3",null,d(e.user.name),1)]),z])]),s("div",A,[s("form",null,[s("div",j,[s("div",q,[K,s("input",{class:n({greyText:!e.isEditable}),ref:"username",name:"username",type:"text",value:e.user.name,readonly:!e.isEditable},null,10,Q)]),s("div",R,[W,s("input",{class:n({greyText:!e.isEditable}),ref:"mail",name:"mail",type:"text",value:e.user.mail,readonly:!e.isEditable},null,10,X)]),e.getIsEditable?(i(),a("div",Y,[Z,s("input",{class:n({greyText:!e.isEditable}),ref:"password",name:"password",type:"password",value:e.user.password,readonly:!e.isEditable},null,10,x)])):r("",!0),e.getIsEditable?(i(),a("div",ss,[es,s("input",{class:n({greyText:!e.isEditable}),ref:"newpassword",name:"newpassword",type:"password",value:e.user.newpassword,readonly:!e.isEditable},null,10,ts)])):r("",!0),e.getIsEditable?(i(),a("div",os,[s("button",{type:"button",onClick:t[1]||(t[1]=(...o)=>e.guardarCambios&&e.guardarCambios(...o)),class:"btn btn-primary btn-block me-3 btn-save"}," Guardar ")])):r("",!0)])])])])])]),s("div",is,[s("div",as,[ns,s("div",null,[s("div",ds,[s("div",{class:n(["only-estudi",{activateEstudi:e.showStudyTask}]),onClick:t[2]||(t[2]=o=>e.setShowStudyTask(!0))},"Estudio",2),s("div",{class:n(["only-test",{activateTest:!e.showStudyTask}]),onClick:t[3]||(t[3]=o=>e.setShowStudyTask(!1))},"Test",2)])])]),s("div",ls,[(i(!0),a(w,null,b(e.filteredTasks,o=>(i(),a("div",rs,[s("a",{href:"#/selectMode",onClick:Os=>e.navigateToMode(o)},[s("div",us,[_s,s("div",hs,[s("div",ms,[s("div",ps,[s("h1",vs,d(o.name),1),s("h2",fs,d(o.description),1),s("div",gs,[s("div",ys,[ws,s("h1",bs,d(o.startDate),1)]),s("div",Cs,[Es,s("h1",Ss,d(o.timeSpent),1)])])])]),s("div",ks,[s("div",Ts,[s("div",$s,[Is,s("div",Ms,[s("span",{class:n(e.getColor(o.averageScore))},d(o.averageScore)+"%",3)])]),s("div",Ns,[Ls,s("div",Fs,[s("span",{class:n(e.getColor(o.progress))},d(o.progress)+"%",3)])])])])])])],8,cs)]))),256))])])])])]),Hs])])}const Ds=v(S,[["render",Ps]]);export{Ds as default};
