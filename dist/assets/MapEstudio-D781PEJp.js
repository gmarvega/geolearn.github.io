import{H as E}from"./HeaderApp-Bd8_-bNw.js";import{d as L,g as e,j as p,k as b,r as a,o as G,c as H,a as s,w as m,u,F as J,S as f,l as d,m as v,T as F}from"./index-yABFnbWc.js";import{u as M}from"./testState-hm3AlMT-.js";import{u as N}from"./modeState-BoiiP5wD.js";import"./GeoLearn-B0ofI_r8.js";const U=L({__name:"MapEstudio",setup(W){M();const l=N();let i,r;l.options.continent==="Asia"?(i=e([100,40]),r=e(3.8)):l.options.continent==="Europa"?(i=e([10,52]),r=e(4.9)):l.options.continent==="America"?(i=e([-100,10]),r=e(3.1)):l.options.continent==="Oceania"?(i=e([135,-20]),r=e(4)):l.options.continent==="Africa"?(i=e([15,0]),r=e(3.85)):(i=e([10,52]),r=e(4.9));const g=i,w=e("EPSG:4326"),S=r,C=e("./countries.json"),O=p("ol-format"),x=new O.GeoJSON,h=e(b({}));var _=new Set;function k(o){var t;const c=o.get("name");var n;return o.get("continent")==l.options.continent?_.has(c)?(n=c,t=o.get("COLOR_BIO")+80):(n="",t=o.get("COLOR_BIO")):t="#c7c8cb",new f({fill:new d({color:t||"#eeeeee"}),stroke:new v({color:"#FFFFFF"}),text:new F({text:n,font:"20px sans-serif"})})}function y(o){const t=o.get("name");var c,n;return _.has(t)?(_.delete(t),c="",n=o.get("COLOR_BIO")):(_.add(t),c=t,n=o.get("COLOR_BIO")+80),new f({fill:new d({color:n||"#eeeeee"}),stroke:new v({color:"#FFFFFFFF"}),text:new F({text:c,font:"20px sans-serif"})})}const j=o=>{},B=p("ol-selectconditions").click,I=o=>o.values_.name!=null&&o.values_.continent==l.options.continent;return(o,t)=>{const c=a("ol-view"),n=a("ol-style"),R=a("ol-interaction-select"),T=a("ol-source-vector"),z=a("ol-vector-layer"),A=a("ol-map");return G(),H(J,null,[s(E),s(A,{loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,"onChange:controls":h.value,style:{height:"800px"}},{default:m(()=>[s(c,{ref:"view",center:u(g),zoom:u(S),projection:w.value},null,8,["center","zoom","projection"]),s(R,{onSelect:j,condition:u(B),filter:I},{default:m(()=>[s(n,{overrideStyleFunction:y})]),_:1},8,["condition"]),s(z,{background:"white",ref:"vectorSourceRef"},{default:m(()=>[s(T,{url:C.value,format:u(x)},{default:m(()=>[s(n,{overrideStyleFunction:k})]),_:1},8,["url","format"])]),_:1},512)]),_:1},8,["onChange:controls"])],64)}}});export{U as default};
